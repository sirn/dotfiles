---
- name: install elixir plugin via asdf
  git:
    repo: https://github.com/asdf-vm/asdf-elixir.git
    dest: "{{asdf_path}}/plugins/elixir"

- name: install elixir {{elixir_version}} via asdf
  shell: "{{asdf_bin}}/asdf install elixir {{elixir_version}}"
  args:
    creates: "{{elixir_version_path}}"

- name: set elixir {{elixir_version}} as default
  command: "{{asdf_bin}}/asdf global elixir {{elixir_version}}"
  changed_when: false

- name: update elixir {{elixir_version}} shims
  command: "{{asdf_bin}}/asdf reshim elixir"
  changed_when: false
