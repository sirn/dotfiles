ext_if=vtnet0
int_net="10.100.20.1/24"
icmp_types="{ echoreq }"
icmp6_types="{ 128, 133, 134, 135, 136, 137 }"

scrub in all
nat on $ext_if from $int_net to any -> ($ext_if)

block in all
set skip on lo0

pass out inet all flags any keep state
pass out inet6 all flags any keep state
pass in on $ext_if inet proto icmp all icmp-type $icmp_types keep state
pass in on $ext_if inet6 proto icmp6 all icmp6-type $icmp6_types keep state

pass in on $ext_if inet proto tcp from any to any port 22 keep state
pass in on $ext_if inet6 proto tcp from any to any port 22 keep state
pass in on $ext_if inet proto udp from any to any port 60000:61000 keep state
pass in on $ext_if inet6 proto udp from any to any port 60000:61000 keep state

anchor "pfpassif/*"
